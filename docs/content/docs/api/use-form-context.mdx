---
title: useFormContext
description: Hook to access stepper state from any component inside Form
---

The `useFormContext` hook provides access to the stepper state from any component inside a `Form`.

## Usage

```tsx
import { useFormContext } from 'rhf-stepper'

function StepIndicator() {
  const { currentStep, isFirstStep, isLastStep } = useFormContext()

  return (
    <div>
      Step {(currentStep as number) + 1}
      {isFirstStep && ' (First)'}
      {isLastStep && ' (Last)'}
    </div>
  )
}
```

## Return Value

`useFormContext<T>()` returns a `FormContextValue<T>` object:

| Property | Type | Description |
|----------|------|-------------|
| `form` | `UseFormReturn<T>` | The react-hook-form instance |
| `currentStep` | `number \| number[] \| null` | Current step index. `number[]` for nested steps |
| `setCurrentStep` | `(step: number \| number[]) => Promise<void>` | Navigate to a specific step (validates based on `stepValidationMode`) |
| `currentStepNode` | `StepTree \| undefined` | The current step's node in the step tree |
| `currentStepArr` | `string[] \| null` | Field names registered in the current step |
| `validatedFields` | `string[]` | Field names that have been validated via step navigation |
| `isFirstStep` | `boolean` | `true` if on the first step |
| `isLastStep` | `boolean` | `true` if on the last step |
| `next` | `() => void` | Navigate to the next step (validates current step first) |
| `prev` | `() => void` | Navigate to the previous step |

## Type Parameter

You can pass your form's type parameter to get type-safe access to the form instance:

```tsx
type MyForm = {
  email: string
  password: string
}

function MyComponent() {
  const { form } = useFormContext<MyForm>()

  // form.getValues() is typed as MyForm
  const values = form.getValues()
}
```

## Navigation

### Next / Previous

```tsx
function Navigation() {
  const { next, prev, isFirstStep, isLastStep } = useFormContext()

  return (
    <div>
      {!isFirstStep && <button type="button" onClick={prev}>Back</button>}
      {!isLastStep && <button type="button" onClick={next}>Next</button>}
      {isLastStep && <button type="submit">Submit</button>}
    </div>
  )
}
```

### Jump to a Specific Step

```tsx
function StepIndicator() {
  const { currentStep, setCurrentStep } = useFormContext()

  return (
    <nav>
      <button type="button" onClick={() => setCurrentStep(0)}>Account</button>
      <button type="button" onClick={() => setCurrentStep(1)}>Profile</button>
      <button type="button" onClick={() => setCurrentStep(2)}>Review</button>
    </nav>
  )
}
```

`setCurrentStep` validates the current step before navigating (based on `stepValidationMode`). If validation fails, navigation is prevented.

## Accessing the Form Instance

The `form` property gives you the full react-hook-form `UseFormReturn` instance:

```tsx
function ResetButton() {
  const { form } = useFormContext<MyFormValues>()

  return (
    <button type="button" onClick={() => form.reset()}>
      Reset
    </button>
  )
}
```
